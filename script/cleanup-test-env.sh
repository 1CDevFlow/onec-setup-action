#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã
set -e

echo "üßπ –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã..."

# –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
if [ -d "./tmp" ]; then
    echo "üìÅ –£–¥–∞–ª–µ–Ω–∏–µ ./tmp –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏..."
    rm -rf ./tmp
fi

# –û—á–∏—â–∞–µ–º –∫–µ—à npm –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
if [ "$1" = "--full" ]; then
    echo "üóëÔ∏è –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–≤–∫–ª—é—á–∞—è node_modules)..."
    rm -rf node_modules
    rm -rf dist
    rm -rf coverage
fi

echo "‚úÖ –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞ –æ—á–∏—â–µ–Ω–∞"
